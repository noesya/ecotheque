<%
elements = block.data.dig('elements')
%>
<div class="block block-gallery py-5">
  <div class="container">
    <% if block.name.present? %>
      <h2><%= block.name %></h2>
    <% end %>
    <% if elements %>
      <div class="row">
        <% elements.each do |element| %>
          <%
          alt = element.dig('alt')
          caption = element.dig('caption')
          image_blob_id = element.dig('image', 'id')
          image_blob = ActiveStorage::Blob.find_by(id: image_blob_id)
          %>
          <div class="col-lg-6">
            <figure>
              <%= kamifusen_tag image_blob, 
                                width: 600, 
                                alt: alt,
                                class: 'img-fluid rounded' if image_blob %>
              <figcaption class="small mt-2"><%= caption %></figcaption>
            </figure>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>